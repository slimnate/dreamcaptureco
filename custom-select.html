<!DOCTYPE html>
<html>
	<head>
		<script>
			document.write(
				'<script src="http://' +
					(location.host || 'localhost').split(':')[0] +
					':35729/livereload.js?snipver=1"></' +
					'script>'
			);
		</script>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<style>
			/*the container must be positioned relative:*/
			.custom-select {
				position: relative;
				font-family: Arial;
			}

			.custom-select select {
				display: none; /*hide original SELECT element:*/
			}

			.select-selected {
				background-color: DodgerBlue;
			}

			/*style the arrow inside the select element:*/
			.select-selected:after {
				position: absolute;
				content: '';
				top: 14px;
				right: 10px;
				width: 0;
				height: 0;
				border: 6px solid transparent;
				border-color: #fff transparent transparent transparent;
			}

			/*point the arrow upwards when the select box is open (active):*/
			.select-selected.select-arrow-active:after {
				border-color: transparent transparent #fff transparent;
				top: 7px;
			}

			/*style the items (options), including the selected item:*/
			.select-items div,
			.select-selected {
				color: #ffffff;
				padding: 8px 16px;
				border: 1px solid transparent;
				border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;
				cursor: pointer;
				user-select: none;
			}

			/*style items (options):*/
			.select-items {
				position: absolute;
				background-color: DodgerBlue;
				top: 100%;
				left: 0;
				right: 0;
				z-index: 99;
			}

			/*hide the items when the select box is closed:*/
			.select-hide {
				display: none;
			}

			.select-items div:hover,
			.same-as-selected {
				background-color: rgba(0, 0, 0, 0.1);
			}
		</style>
	</head>

	<body>
		<h2>Custom Select</h2>

		<!--surround the select box with a "custom-select" DIV element. Remember to set the width:-->
		<div class="custom-select" style="width: 200px">
			<select>
				<option value="0">Select car:</option>
				<option value="1">Audi</option>
				<option value="2">BMW</option>
				<option value="3">Citroen</option>
				<option value="4">Ford</option>
				<option value="5">Honda</option>
				<option value="6">Jaguar</option>
				<option value="7">Land Rover</option>
				<option value="8">Mercedes</option>
				<option value="9">Mini</option>
				<option value="10">Nissan</option>
				<option value="11">Toyota</option>
				<option value="12">Volvo</option>
			</select>
		</div>

		<script>
			var selectElements,
				i,
				j,
				selectElementsCount,
				currentSelectElementItemCount,
				currentSelectElement,
				selectedItemDiv,
				selectOptionsList,
				selectOptionItem;
			/*look for any elements with the class "custom-select":*/
			selectElements = document.getElementsByClassName('custom-select');
			selectElementsCount = selectElements.length;
			for (i = 0; i < selectElementsCount; i++) {
				currentSelectElement = selectElements[i].getElementsByTagName('select')[0];
				currentSelectElementItemCount = currentSelectElement.length;
				/*for each element, create a new DIV that will act as the selected item:*/
				selectedItemDiv = document.createElement('DIV');
				selectedItemDiv.setAttribute('class', 'select-selected');
				selectedItemDiv.innerHTML =
					currentSelectElement.options[currentSelectElement.selectedIndex].innerHTML;
				selectElements[i].appendChild(selectedItemDiv);
				/*for each element, create a new DIV that will contain the option list:*/
				selectOptionsList = document.createElement('DIV');
				selectOptionsList.setAttribute('class', 'select-items select-hide');
				for (j = 1; j < currentSelectElementItemCount; j++) {
					/*for each option in the original select element,
    create a new DIV that will act as an option item:*/
					selectOptionItem = document.createElement('DIV');
					selectOptionItem.innerHTML = currentSelectElement.options[j].innerHTML;
					selectOptionItem.addEventListener('click', optionItemClick);
					selectOptionsList.appendChild(selectOptionItem);
				}
				selectElements[i].appendChild(selectOptionsList);
				selectedItemDiv.addEventListener('click', function (e) {
					/*when the select box is clicked, close any other select boxes,
      and open/close the current select box:*/
					e.stopPropagation();
					closeAllSelect(this);
					this.nextSibling.classList.toggle('select-hide');
					this.classList.toggle('select-arrow-active');
				});
			}

			function optionItemClick(e) {
				/*when an item is clicked, update the original select box, and the selected item:*/
				var y, i, k, selectElement, selectedElementDiv, selectLength, yl;
				selectElement = this.parentNode.parentNode.getElementsByTagName('select')[0];
				selectLength = selectElement.length;
				selectedElementDiv = this.parentNode.previousSibling;
				for (i = 0; i < selectLength; i++) {
					if (selectElement.options[i].innerHTML == this.innerHTML) {
						selectElement.selectedIndex = i;
						selectedElementDiv.innerHTML = this.innerHTML;
						y = this.parentNode.getElementsByClassName('same-as-selected');
						yl = y.length;
						console.log(y);
						for (k = 0; k < yl; k++) {
							y[k].removeAttribute('class');
						}
						this.setAttribute('class', 'same-as-selected');
						break;
					}
				}
				selectedElementDiv.click();
			}

			function closeAllSelect(elmnt) {
				/*a function that will close all select boxes in the document,
  except the current select box:*/
				var optionLists,
					selectedItemDivs,
					i,
					xl,
					yl,
					arrNo = [];
				optionLists = document.getElementsByClassName('select-items');
				selectedItemDivs = document.getElementsByClassName('select-selected');
				xl = optionLists.length;
				yl = selectedItemDivs.length;
				for (i = 0; i < yl; i++) {
					if (elmnt == selectedItemDivs[i]) {
						arrNo.push(i);
					} else {
						selectedItemDivs[i].classList.remove('select-arrow-active');
					}
				}
				for (i = 0; i < xl; i++) {
					if (arrNo.indexOf(i)) {
						optionLists[i].classList.add('select-hide');
					}
				}
			}
			/*if the user clicks anywhere outside the select box,
then close all select boxes:*/
			document.addEventListener('click', closeAllSelect);
		</script>
	</body>
</html>
